<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="icon" href="img/icon-black.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- เนื้อหาเดิม -->
    <script>
        function toggleMenu(menuId) {
            const submenu = document.getElementById(menuId);
            submenu.classList.toggle('open');
        }

        function changeIframeSrc(url, menuTitle) {
            const iframe = document.getElementById('iframe-content');
            const title = document.querySelector('.menu-title');
            const iframeContainer = document.querySelector('.iframe-container');

            if (iframe.src === url) {
                return;
            }

            iframe.src = url;
            if (menuTitle) {
                let icon = '';
                if (['รายงานยอดสูญหาย', 'ตารางยอดสูญหาย', 'รายละเอียดยอดสูญหาย'].includes(menuTitle)) {
                    icon = '<i class=\"fas fa-chart-bar\" style=\"margin-right: 6px;\"></i>';
                } else if (['รายงานเคสทุจริต', 'ตารางเคสทุจริต', 'รายละเอียดเคสทุจริต'].includes(menuTitle)) {
                    icon = '<i class=\"fas fa-exclamation-triangle\" style=\"margin-right: 6px;\"></i>';
                } else if (menuTitle === 'ตารางงาน') {
                    icon = '<i class=\"fas fa-calendar-alt\" style=\"margin-right: 6px;\"></i>';
                }
                title.innerHTML = icon + menuTitle;
            }

            if (
                menuTitle === 'รายงานยอดสูญหาย' ||
                menuTitle === 'รายงานเคสทุจริต' ||
                menuTitle === 'ตารางงาน'
            ) {
                iframeContainer.classList.add('expanded-iframe');
            } else {
                iframeContainer.classList.remove('expanded-iframe');
            }
        }

        function updateFavicon() {
            const favicon = document.querySelector("link[rel='icon']");
            const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)").matches;

            // เปลี่ยนไอคอนตามโหมด
            favicon.href = prefersDarkScheme ? "img/icon-white.ico" : "img/icon-black.ico";
        }

        // เรียกใช้ฟังก์ชันเมื่อโหลดหน้า
        updateFavicon();

        // ตรวจจับการเปลี่ยนโหมดสีแบบเรียลไทม์
        window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", updateFavicon);
    </script>
</body>
</html>
